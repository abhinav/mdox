version: 1

inputDir: "testdata/testproj"
outputDir: "testdata/tmp/test2/2"
extraInputGlobs:
  - "testdata/test.md"

gitIgnored: true
localLinksStyle:
  hugo:
    indexFileName: "_index.md"

transformations:
  - glob: "../test.md"
    path: /_index.md
    frontMatter:
      template: |
        title: "{{ .Origin.FirstHeader }}"

        cascade:
        - type: "docs"
          _target:
            path: "/**"

  - glob: "doc.md"
    frontMatter:
      template: |
        title: "{{ .Origin.FirstHeader }}"
        slug: "{{ .Target.FileName }}"

  - glob: "Team/doc.md"
    path: inner/doc.md
    frontMatter:
      template: |
        title: "{{ .Origin.FirstHeader }}"
        yolo: "yolo"

  - glob: "**/README.md"
    path: /test1/_index.md
    frontMatter:
      template: |
        title: "{{ .Origin.FirstHeader }}"
